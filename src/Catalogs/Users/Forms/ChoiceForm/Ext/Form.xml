<?xml version="1.0" encoding="UTF-8"?>
<Form xmlns="http://v8.1c.ru/8.3/xcf/logform" xmlns:app="http://v8.1c.ru/8.2/managed-application/core" xmlns:cfg="http://v8.1c.ru/8.1/data/enterprise/current-config" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:ent="http://v8.1c.ru/8.1/data/enterprise" xmlns:lf="http://v8.1c.ru/8.2/managed-application/logform" xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows" xmlns:xr="http://v8.1c.ru/8.3/xcf/readable" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.3">
	<Width>90</Width>
	<AutoTitle>false</AutoTitle>
	<VerticalScroll>useIfNecessary</VerticalScroll>
	<CommandSet>
		<ExcludedCommand>Create</ExcludedCommand>
	</CommandSet>
	<AutoCommandBar name="FormCommandBar" id="-1">
		<Autofill>false</Autofill>
		<ChildItems>
			<Button name="SelectUser" id="58">
				<Type>CommandBarButton</Type>
				<Representation>PictureAndText</Representation>
				<DefaultButton>true</DefaultButton>
				<SkipOnInput>false</SkipOnInput>
				<CommandName>Form.StandardCommand.Choose</CommandName>
				<ExtendedTooltip name="SelectUserExtendedTooltip" id="66"/>
			</Button>
			<Button name="CreateUser" id="54">
				<Type>CommandBarButton</Type>
				<SkipOnInput>false</SkipOnInput>
				<CommandName>Form.Command.CreateUser</CommandName>
				<ExtendedTooltip name="CreateUserExtendedTooltip" id="67"/>
			</Button>
			<Button name="CreateAccessGroup" id="55">
				<Type>CommandBarButton</Type>
				<SkipOnInput>false</SkipOnInput>
				<CommandName>Form.Command.CreateAccessGroup</CommandName>
				<ExtendedTooltip name="CreateAccessGroupExtendedTooltip" id="68"/>
			</Button>
			<ButtonGroup name="CommandBarUsers" id="53">
				<Title>
					<v8:item>
						<v8:lang>en</v8:lang>
						<v8:content>Command bar users</v8:content>
					</v8:item>
				</Title>
				<ToolTip>
					<v8:item>
						<v8:lang>en</v8:lang>
						<v8:content>Command bar users</v8:content>
					</v8:item>
				</ToolTip>
				<CommandSource>Form</CommandSource>
				<ExtendedTooltip name="CommandBarUsersExtendedTooltip" id="69"/>
				<ChildItems>
					<Button name="IBUsers" id="6">
						<Type>CommandBarButton</Type>
						<SkipOnInput>false</SkipOnInput>
						<CommandName>Catalog.Users.Command.IBUsers</CommandName>
						<ExtendedTooltip name="IBUsersExtendedTooltip" id="70"/>
					</Button>
				</ChildItems>
			</ButtonGroup>
		</ChildItems>
	</AutoCommandBar>
	<Events>
		<Event name="NotificationProcessing">NotificationProcessing</Event>
		<Event name="OnOpen">OnOpen</Event>
		<Event name="OnCreateAtServer">OnCreateAtServer</Event>
		<Event name="OnClose">OnClose</Event>
	</Events>
	<ChildItems>
		<UsualGroup name="Group" id="24">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Group</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Group</v8:content>
				</v8:item>
			</ToolTip>
			<Group>Horizontal</Group>
			<Representation>None</Representation>
			<ChildItemsWidth>LeftNarrowest</ChildItemsWidth>
			<ShowTitle>false</ShowTitle>
			<ExtendedTooltip name="GroupExtendedTooltip" id="71"/>
			<ChildItems>
				<Table name="UserGroups" id="25">
					<Representation>Tree</Representation>
					<CommandBarLocation>None</CommandBarLocation>
					<SkipOnInput>false</SkipOnInput>
					<SelectionMode>SingleRow</SelectionMode>
					<Header>false</Header>
					<UseAlternationRowColor>true</UseAlternationRowColor>
					<InitialTreeView>ExpandTopLevel</InitialTreeView>
					<EnableStartDrag>true</EnableStartDrag>
					<EnableDrag>true</EnableDrag>
					<DataPath>UserGroups</DataPath>
					<RowPictureDataPath>2/7</RowPictureDataPath>
					<RowsPicture>
						<xr:Ref>CommonPicture.UserIcons</xr:Ref>
						<xr:LoadTransparent>false</xr:LoadTransparent>
					</RowsPicture>
					<SearchStringLocation>None</SearchStringLocation>
					<ViewStatusLocation>None</ViewStatusLocation>
					<SearchControlLocation>None</SearchControlLocation>
					<AutoRefresh>false</AutoRefresh>
					<AutoRefreshPeriod>60</AutoRefreshPeriod>
					<Period>
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</Period>
					<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
					<RestoreCurrentRow>false</RestoreCurrentRow>
					<TopLevelParent xsi:nil="true"/>
					<ShowRoot>false</ShowRoot>
					<AllowRootChoice>false</AllowRootChoice>
					<UpdateOnDataChange>Auto</UpdateOnDataChange>
					<ContextMenu name="UserGroupsContextMenu" id="26"/>
					<AutoCommandBar name="UserGroupsCommandBar" id="27"/>
					<ExtendedTooltip name="UserGroupsExtendedTooltip" id="72"/>
					<SearchStringAddition name="UserGroupsSearchString" id="73">
						<AdditionSource>
							<Item>UserGroups</Item>
							<Type>SearchStringRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="UserGroupsSearchStringContextMenu" id="74"/>
						<ExtendedTooltip name="UserGroupsSearchStringExtendedTooltip" id="75"/>
					</SearchStringAddition>
					<ViewStatusAddition name="UserGroupsViewStatus" id="76">
						<AdditionSource>
							<Item>UserGroups</Item>
							<Type>ViewStatusRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="UserGroupsViewStatusContextMenu" id="77"/>
						<ExtendedTooltip name="UserGroupsViewStatusExtendedTooltip" id="78"/>
					</ViewStatusAddition>
					<SearchControlAddition name="UserGroupsSearchControl" id="79">
						<AdditionSource>
							<Item>UserGroups</Item>
							<Type>SearchControl</Type>
						</AdditionSource>
						<ContextMenu name="UserGroupsSearchControlContextMenu" id="80"/>
						<ExtendedTooltip name="UserGroupsSearchControlExtendedTooltip" id="81"/>
					</SearchControlAddition>
					<Events>
						<Event name="OnActivateRow">UserGroupsOnActivateRow</Event>
					</Events>
					<ChildItems>
						<LabelField name="GroupName" id="30">
							<DataPath>UserGroups.Description</DataPath>
							<ShowInFooter>false</ShowInFooter>
							<ContextMenu name="GroupNameContextMenu" id="31"/>
							<ExtendedTooltip name="GroupNameExtendedTooltip" id="82"/>
						</LabelField>
					</ChildItems>
				</Table>
				<Table name="UsersList" id="48">
					<CommandBarLocation>None</CommandBarLocation>
					<SkipOnInput>false</SkipOnInput>
					<ChoiceMode>true</ChoiceMode>
					<SelectionMode>SingleRow</SelectionMode>
					<UseAlternationRowColor>true</UseAlternationRowColor>
					<EnableStartDrag>true</EnableStartDrag>
					<DataPath>UsersList</DataPath>
					<RowPictureDataPath>1/6</RowPictureDataPath>
					<RowsPicture>
						<xr:Ref>CommonPicture.UserIcons</xr:Ref>
						<xr:LoadTransparent>false</xr:LoadTransparent>
					</RowsPicture>
					<SearchStringLocation>None</SearchStringLocation>
					<ViewStatusLocation>None</ViewStatusLocation>
					<SearchControlLocation>None</SearchControlLocation>
					<AutoRefresh>false</AutoRefresh>
					<AutoRefreshPeriod>60</AutoRefreshPeriod>
					<Period>
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</Period>
					<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
					<RestoreCurrentRow>false</RestoreCurrentRow>
					<TopLevelParent xsi:nil="true"/>
					<ShowRoot>true</ShowRoot>
					<AllowRootChoice>false</AllowRootChoice>
					<UpdateOnDataChange>Auto</UpdateOnDataChange>
					<ContextMenu name="UsersListContextMenu" id="49"/>
					<AutoCommandBar name="UsersListCommandBar" id="50"/>
					<ExtendedTooltip name="UsersListExtendedTooltip" id="83"/>
					<SearchStringAddition name="UsersListSearchString" id="84">
						<AdditionSource>
							<Item>UsersList</Item>
							<Type>SearchStringRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="UsersListSearchStringContextMenu" id="85"/>
						<ExtendedTooltip name="UsersListSearchStringExtendedTooltip" id="86"/>
					</SearchStringAddition>
					<ViewStatusAddition name="UsersListViewStatus" id="87">
						<AdditionSource>
							<Item>UsersList</Item>
							<Type>ViewStatusRepresentation</Type>
						</AdditionSource>
						<ContextMenu name="UsersListViewStatusContextMenu" id="88"/>
						<ExtendedTooltip name="UsersListViewStatusExtendedTooltip" id="89"/>
					</ViewStatusAddition>
					<SearchControlAddition name="UsersListSearchControl" id="90">
						<AdditionSource>
							<Item>UsersList</Item>
							<Type>SearchControl</Type>
						</AdditionSource>
						<ContextMenu name="UsersListSearchControlContextMenu" id="91"/>
						<ExtendedTooltip name="UsersListSearchControlExtendedTooltip" id="92"/>
					</SearchControlAddition>
					<Events>
						<Event name="Selection">UsersListSelection</Event>
						<Event name="BeforeAddRow">UsersListBeforeAddRow</Event>
					</Events>
					<ChildItems>
						<LabelField name="Ref" id="51">
							<DataPath>UsersList.Ref</DataPath>
							<Title>
								<v8:item>
									<v8:lang>en</v8:lang>
									<v8:content>User</v8:content>
								</v8:item>
							</Title>
							<ContextMenu name="RefContextMenu" id="52"/>
							<ExtendedTooltip name="RefExtendedTooltip" id="93"/>
						</LabelField>
					</ChildItems>
				</Table>
			</ChildItems>
		</UsualGroup>
		<Pages name="GroupShowChildGroupUsers" id="59">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Group show child group users</v8:content>
				</v8:item>
			</Title>
			<PagesRepresentation>None</PagesRepresentation>
			<ExtendedTooltip name="GroupShowChildGroupUsersExtendedTooltip" id="94"/>
			<ChildItems>
				<Page name="GroupUnableToSetProperty" id="60">
					<Title>
						<v8:item>
							<v8:lang>en</v8:lang>
							<v8:content>Group unable to set property</v8:content>
						</v8:item>
					</Title>
					<ExtendedTooltip name="GroupUnableToSetPropertyExtendedTooltip" id="95"/>
					<ChildItems>
						<LabelDecoration name="ShowAllUsers" id="61">
							<SkipOnInput>false</SkipOnInput>
							<Title formatted="false">
								<v8:item>
									<v8:lang>en</v8:lang>
									<v8:content>The group "All users" contains all users registered in  the application</v8:content>
								</v8:item>
							</Title>
							<ContextMenu name="ShowAllUsersContextMenu" id="62"/>
							<ExtendedTooltip name="ShowAllUsersExtendedTooltip" id="96"/>
						</LabelDecoration>
					</ChildItems>
				</Page>
				<Page name="GroupSetProperty" id="63">
					<Title>
						<v8:item>
							<v8:lang>en</v8:lang>
							<v8:content>Group set property</v8:content>
						</v8:item>
					</Title>
					<ToolTip>
						<v8:item>
							<v8:lang>en</v8:lang>
							<v8:content>Group set property</v8:content>
						</v8:item>
					</ToolTip>
					<ExtendedTooltip name="GroupSetPropertyExtendedTooltip" id="97"/>
					<ChildItems>
						<CheckBoxField name="SelectHierarchically" id="64">
							<DataPath>SelectHierarchically</DataPath>
							<TitleLocation>Right</TitleLocation>
							<CheckBoxType>Auto</CheckBoxType>
							<ContextMenu name="SelectHierarchicallyContextMenu" id="65"/>
							<ExtendedTooltip name="SelectHierarchicallyExtendedTooltip" id="98"/>
							<Events>
								<Event name="OnChange">SelectHierarchicallyOnChange</Event>
							</Events>
						</CheckBoxField>
					</ChildItems>
				</Page>
			</ChildItems>
		</Pages>
	</ChildItems>
	<Attributes>
		<Attribute name="UsersList" id="1">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Users list</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>cfg:DynamicList</v8:Type>
			</Type>
			<MainAttribute>true</MainAttribute>
			<UseAlways>
				<Field>UsersList.Ref</Field>
				<Field>UsersList.Description</Field>
			</UseAlways>
			<Settings xsi:type="DynamicList">
				<ManualQuery>true</ManualQuery>
				<DynamicDataRead>true</DynamicDataRead>
				<QueryText>SELECT
	Users.Ref,
	Users.DeletionMark,
	Users.Predefined,
	Users.Description,
	CASE
		WHEN Users.DeletionMark
			THEN 0
		WHEN Users.IBUserID = &amp;EmptyUUID
			THEN 4
		ELSE 1
	END AS PictureNo
FROM
	Catalog.Users AS Users
WHERE
	(&amp;SelectHierarchically
				AND TRUE IN
					(SELECT
						TRUE
					FROM
						InformationRegister.UserGroupMembers AS UserGroupMembers
					WHERE
						UserGroupMembers.User = Users.Ref
						AND UserGroupMembers.UsersGroup = &amp;UsersGroup)
			OR (NOT &amp;SelectHierarchically)
				AND TRUE IN
					(SELECT
						TRUE
					FROM
						Catalog.UserGroups.Content AS UserGroupsContent
					WHERE
						UserGroupsContent.User = Users.Ref
						AND UserGroupsContent.Ref = &amp;UsersGroup))</QueryText>
				<MainTable>Catalog.Users</MainTable>
				<ListSettings>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">DeletionMark</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
						</dcsset:item>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>dfcece9d-5077-440b-b6b3-45a5cb4538eb</dcsset:userSettingID>
					</dcsset:filter>
					<dcsset:order>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>88619765-ccb3-46c6-ac52-38e9c992ebd4</dcsset:userSettingID>
					</dcsset:order>
					<dcsset:conditionalAppearance>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>b75fecce-942b-4aed-abc9-e6a02e460fb3</dcsset:userSettingID>
					</dcsset:conditionalAppearance>
				</ListSettings>
			</Settings>
		</Attribute>
		<Attribute name="UserGroups" id="2">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>User groups</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>cfg:DynamicList</v8:Type>
			</Type>
			<Settings xsi:type="DynamicList">
				<ManualQuery>true</ManualQuery>
				<DynamicDataRead>true</DynamicDataRead>
				<QueryText>SELECT
	CatalogUserGroups.Ref,
	CatalogUserGroups.DeletionMark,
	CatalogUserGroups.Predefined,
	CatalogUserGroups.Parent,
	CatalogUserGroups.Description,
	CASE
		WHEN CatalogUserGroups.DeletionMark
			THEN 2
		ELSE 3
	END AS PictureNo
FROM
	Catalog.UserGroups AS CatalogUserGroups</QueryText>
				<MainTable>Catalog.UserGroups</MainTable>
				<ListSettings>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">DeletionMark</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
						</dcsset:item>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>dfcece9d-5077-440b-b6b3-45a5cb4538eb</dcsset:userSettingID>
					</dcsset:filter>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemField">
							<dcsset:field>Predefined</dcsset:field>
							<dcsset:orderType>Desc</dcsset:orderType>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:OrderItemField">
							<dcsset:field>Description</dcsset:field>
							<dcsset:orderType>Asc</dcsset:orderType>
						</dcsset:item>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>88619765-ccb3-46c6-ac52-38e9c992ebd4</dcsset:userSettingID>
					</dcsset:order>
					<dcsset:conditionalAppearance>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>b75fecce-942b-4aed-abc9-e6a02e460fb3</dcsset:userSettingID>
					</dcsset:conditionalAppearance>
				</ListSettings>
			</Settings>
		</Attribute>
		<Attribute name="SelectHierarchically" id="3">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Show users from subgroups</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>xs:boolean</v8:Type>
			</Type>
			<Save>
				<Field>SelectHierarchically</Field>
			</Save>
		</Attribute>
	</Attributes>
	<Commands>
		<Command name="IBUserAdministration" id="1">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>User's administration</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>User's administration</v8:content>
				</v8:item>
			</ToolTip>
			<Use>
				<xr:Common>false</xr:Common>
				<xr:Value name="">false</xr:Value>
				<xr:Value name="Role.Administration">false</xr:Value>
				<xr:Value name="Role.PrintWriteFilesUseClipboard">false</xr:Value>
				<xr:Value name="Role.RunAutomation">false</xr:Value>
				<xr:Value name="Role.RunWebClient">false</xr:Value>
				<xr:Value name="Role.RunExternalConnection">false</xr:Value>
				<xr:Value name="Role.RunThickClient">false</xr:Value>
				<xr:Value name="Role.RunThinClient">false</xr:Value>
				<xr:Value name="Role.RunAdditionalReportsAndDataProcessorsFromFiles">false</xr:Value>
				<xr:Value name="Role.RunUpdates">false</xr:Value>
				<xr:Value name="Role.FullAccess">true</xr:Value>
				<xr:Value name="Role.ViewEventLog">false</xr:Value>
			</Use>
			<Action>IBUserAdministration</Action>
		</Command>
		<Command name="CreateUser" id="2">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Create</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Create user</v8:content>
				</v8:item>
			</ToolTip>
			<Picture>
				<xr:Ref>StdPicture.CreateListItem</xr:Ref>
				<xr:LoadTransparent>true</xr:LoadTransparent>
			</Picture>
			<Action>CreateUser</Action>
			<Representation>TextPicture</Representation>
		</Command>
		<Command name="CreateAccessGroup" id="3">
			<Title>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Create access group</v8:content>
				</v8:item>
			</Title>
			<ToolTip>
				<v8:item>
					<v8:lang>en</v8:lang>
					<v8:content>Create access group</v8:content>
				</v8:item>
			</ToolTip>
			<Picture>
				<xr:Ref>StdPicture.CreateFolder</xr:Ref>
				<xr:LoadTransparent>true</xr:LoadTransparent>
			</Picture>
			<Action>CreateAccessGroup</Action>
		</Command>
	</Commands>
</Form>