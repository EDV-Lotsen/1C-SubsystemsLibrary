<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><meta name="GENERATOR" content="MSHTML 10.00.9200.17054"></meta></head><body>﻿<link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 6.00.6000.17097"></meta><p><strong>Handling files and pictures</strong></p>
<p>In the configuration the <a href="v8:OpenLink=e1cib/navigationpoint/Enterprise/Catalog.StoredFiles.Command.OpenList">StoredFiles</a> catalog implemented. It keeps files as value storages. In the item form the file placing to the database from the disk and vice versa from the database to the disk. The technique for handling files is designed to operate both in thin client and Web-client. This defines its main characteristics. Manipulating with files through a temporary storage. Getting a file from the database can be performed without of temporary storage, using an addresses.</p>
<p>The catalog item form demonstrates the typical (not extended) capabilities to work with files.<br>During a PutFile function call a user is asked for the file name and a file is placed in the storage on the server. This function returns the temporary storage address. Then the PutObjectFile procedure is called on the server. It converts the form data into an object of CatalogRef type and extracts a file from the temporary storage using the GetFromTempStorage, places it into the catalog attribute, writes an item to the database and performs the backward conversion into the form data.<br>For saving a file to the disk the GetURL function is used, an address of the file in the infobase is obtainted. GetFile function is called next, the user is asked for the location and the file name to place a file, reads the file from the database and writes it file to disk.</p>
<p>Open files and Import files commands of the catalog list form demonstrate the File System Extension capabilities.<br>The Import Files command demonstrates the PutFiles function, which allows to load multiple files from the client to the server. At the server files are placed in a temporary storage. <br>The "Open Files" command demonstrates a GetFiles function, which allows to load multiple files from the server to the client, the RunApp procedure, which runs an associated with the file type application on the client, and the RequestUserPermission function, which allows to reduce the number of requests for interaction with the client's file system permissions, asked from the user. For handling files on the client the directory for soring files is defined. It can be specified with the "User Settings" data processor or will be prompted on the first use.</p>
<p>In the <a href="v8:OpenLink=e1cib/navigationpoint/Purchases/Catalog.Products.Command.OpenList">Products</a> catalog in PictureFile attribute a reference to the catalog item, which provides the product picture, is stored. On the catalog form the field with the picture is placed. The address in the information base is received using the GetURL function. The address is assigned to the form attribute, which with a picture field is associated. As the result in the picture field the picture, received from the system at this address is displaed.</p></body></html>