<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><meta name="GENERATOR" content="MSHTML 10.00.9200.17054"></meta></head><body>﻿<link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 6.00.6000.17097"></meta><p><strong>Document posting</strong></p>
<p>The new document posting technique is used.</p>
<p>In the metadata for documents, which the posting is used for, the RegisterRecordsWritingOnPost property value is set to WriteSelected and for RegisterRecordsDeletion propertiy - AutoDeleteOnUnpost value. </p>
<p>Respectively in documents modules the Write property is set for the recordsets of registers on which the document can do register records. This makes writing of the selected recordsets after posting, independently from if they are filled or not. </p>
<p>In the <a href="v8:OpenForm=Document.ProductExpense.ObjectForm">ProductExpense</a> document the balances control technique is demonstrated. On the realtime posting the Inventory register recordset mode is set to LockForUpdate. This provides locking of the register on write, which excludes the parallel write with other transactions. The lock is necessary to control the balances. The balances control is performed after the register records writing. The document register records writing is performed in the posting handler of the document by calling Write method of the register records collection. This allows to perform necessary actions after writing the registers records. In this case, the balances controlling query is performed.</p></body></html>